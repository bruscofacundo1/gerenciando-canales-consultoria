# netlify.toml (en la raíz del repositorio)

[build]
  # 1. Directorio base: Netlify se moverá a esta carpeta antes de ejecutar el comando.
  base = "client"
  
  # 2. Comando de construcción: Ejecutamos la instalación de pnpm y luego el script de build.
  command = "pnpm install --store=node_modules/.pnpm && pnpm run build:client"
  
  # 3. Directorio de publicación: DEBE ser 'dist' porque es relativo al directorio base 'client'.
  publish = "dist" # <-- ¡ESTE ES EL CAMBIO CLAVE!

# Configuración de redirecciones para Single Page Applications (SPA)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
